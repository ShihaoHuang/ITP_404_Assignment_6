{"ast":null,"code":"var _jsxFileName = \"/Users/natehuang/Desktop/itp404/hw/ITP_404_Assignment_6/src/Page.js\";\nimport React, { useState, useEffect } from 'react';\nimport { fetchFollowers, addFollower, unFollow } from \"./Api.js\";\nexport default function Page({\n  selectMember,\n  selectRepo\n}) {\n  const [page, setPage] = useState([]);\n  const [followers, setFollowers] = useState([]);\n\n  function onFollow(elements) {\n    const newId = elements.id;\n    const newElement = {\n      id: newId,\n      name: elements.login\n    };\n    const found = followers.find(element => {\n      return element.id === Number(newId);\n    });\n\n    if (found) {\n      const newFollowers = followers.filter(element => {\n        return element.id !== Number(newId);\n      });\n      unFollow(newId);\n      setFollowers(newFollowers);\n    } else {\n      const newFollowers = followers.concat(newElement);\n      addFollower(newElement);\n      setFollowers(newFollowers);\n    }\n  }\n\n  function fetchAPI() {\n    return fetch(`https://api.github.com/orgs/emberjs/members`, {\n      headers: {\n        Authorization: 'token 31830d17e83cee43166324aaa35c93d6444e083a',\n        Accept: \"application/json\"\n      }\n    });\n  }\n\n  useEffect(() => {\n    getFollowers().then(() => {\n      renderPage();\n    });\n  }, []);\n\n  function getFollowers() {\n    return fetchFollowers().then(response => {\n      setFollowers(response);\n    });\n  }\n\n  function displayFollow(id) {\n    const found = followers.find(element => {\n      return element.id === Number(id);\n    });\n\n    if (found) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, \"Unfollow\");\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, \"Follow\");\n  }\n\n  function renderPage() {\n    fetchAPI().then(response => {\n      return response.json();\n    }).then(response => {\n      setPage(response); //   console.log(response)\n    });\n  }\n\n  function mapElements(data, handleEach) {\n    // console.log(data)\n    return data.map(element => {\n      return handleEach(element);\n    });\n  }\n\n  function formatElement(element) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: element.id,\n      className: \"list-group-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row ml-4 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \" col-2 p-3 rounded-circle pointer\",\n      src: element.avatar_url,\n      onClick: () => selectMember(element.login),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \" p-3 pointer\",\n      onClick: () => selectMember(element.login),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, element.login), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-info\",\n      onClick: () => selectRepo(element.repos_url),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }\n    }, \"Repository\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-light\",\n      onClick: () => onFollow(element),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 29\n      }\n    }, displayFollow(element.id))))));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, mapElements(page, formatElement));\n}","map":{"version":3,"sources":["/Users/natehuang/Desktop/itp404/hw/ITP_404_Assignment_6/src/Page.js"],"names":["React","useState","useEffect","fetchFollowers","addFollower","unFollow","Page","selectMember","selectRepo","page","setPage","followers","setFollowers","onFollow","elements","newId","id","newElement","name","login","found","find","element","Number","newFollowers","filter","concat","fetchAPI","fetch","headers","Authorization","Accept","getFollowers","then","renderPage","response","displayFollow","json","mapElements","data","handleEach","map","formatElement","avatar_url","repos_url"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,cAAR,EAAwBC,WAAxB,EAAqCC,QAArC,QAAoD,UAApD;AACA,eAAe,SAASC,IAAT,CAAc;AAACC,EAAAA,YAAD;AAAeC,EAAAA;AAAf,CAAd,EAAyC;AACpD,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,EAAD,CAA1C;;AAGA,WAASY,QAAT,CAAkBC,QAAlB,EAA2B;AACvB,UAAMC,KAAK,GAAGD,QAAQ,CAACE,EAAvB;AACA,UAAMC,UAAU,GAAG;AACfD,MAAAA,EAAE,EAAGD,KADU;AAEfG,MAAAA,IAAI,EAAGJ,QAAQ,CAACK;AAFD,KAAnB;AAIA,UAAMC,KAAK,GAAGT,SAAS,CAACU,IAAV,CAAeC,OAAO,IAAE;AAClC,aAAOA,OAAO,CAACN,EAAR,KAAeO,MAAM,CAACR,KAAD,CAA5B;AACH,KAFa,CAAd;;AAGA,QAAIK,KAAJ,EAAU;AACN,YAAMI,YAAY,GAAGb,SAAS,CAACc,MAAV,CAAiBH,OAAO,IAAE;AAC3C,eAAOA,OAAO,CAACN,EAAR,KAAeO,MAAM,CAACR,KAAD,CAA5B;AACH,OAFoB,CAArB;AAGAV,MAAAA,QAAQ,CAACU,KAAD,CAAR;AACAH,MAAAA,YAAY,CAACY,YAAD,CAAZ;AACH,KAND,MAMK;AACD,YAAMA,YAAY,GAAGb,SAAS,CAACe,MAAV,CAAiBT,UAAjB,CAArB;AACAb,MAAAA,WAAW,CAACa,UAAD,CAAX;AACAL,MAAAA,YAAY,CAACY,YAAD,CAAZ;AACH;AACJ;;AACD,WAASG,QAAT,GAAmB;AACf,WAAOC,KAAK,CAAE,6CAAF,EAAgD;AAC1DC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAE,gDADR;AAEPC,QAAAA,MAAM,EAAE;AAFD;AADiD,KAAhD,CAAZ;AAMD;;AAED7B,EAAAA,SAAS,CAAC,MAAI;AACZ8B,IAAAA,YAAY,GAAGC,IAAf,CAAoB,MAAI;AACpBC,MAAAA,UAAU;AACT,KAFL;AAKD,GANQ,EAMN,EANM,CAAT;;AAQA,WAASF,YAAT,GAAuB;AACnB,WAAO7B,cAAc,GAAG8B,IAAjB,CAAsBE,QAAQ,IAAE;AACnCvB,MAAAA,YAAY,CAACuB,QAAD,CAAZ;AACH,KAFM,CAAP;AAGH;;AAED,WAASC,aAAT,CAAuBpB,EAAvB,EAA0B;AACtB,UAAMI,KAAK,GAAGT,SAAS,CAACU,IAAV,CAAeC,OAAO,IAAE;AAClC,aAAOA,OAAO,CAACN,EAAR,KAAeO,MAAM,CAACP,EAAD,CAA5B;AACH,KAFa,CAAd;;AAGA,QAAII,KAAJ,EAAU;AACN,0BAAQ,qDAAR;AAGH;;AACD,wBAAO,mDAAP;AACH;;AAED,WAASc,UAAT,GAAqB;AACnBP,IAAAA,QAAQ,GAAGM,IAAX,CAAgBE,QAAQ,IAAE;AACxB,aAAOA,QAAQ,CAACE,IAAT,EAAP;AACD,KAFD,EAEGJ,IAFH,CAEQE,QAAQ,IAAE;AAChBzB,MAAAA,OAAO,CAACyB,QAAD,CAAP,CADgB,CAElB;AACC,KALD;AAMD;;AAED,WAASG,WAAT,CAAqBC,IAArB,EAA2BC,UAA3B,EAAsC;AACpC;AACA,WAAOD,IAAI,CAACE,GAAL,CAASnB,OAAO,IAAE;AACvB,aAAOkB,UAAU,CAAClB,OAAD,CAAjB;AACD,KAFM,CAAP;AAGD;;AAED,WAASoB,aAAT,CAAuBpB,OAAvB,EAA+B;AAC7B,wBAEI;AAAI,MAAA,GAAG,EAAEA,OAAO,CAACN,EAAjB;AAAqB,MAAA,SAAS,EAAC,iBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAG,mCAAjB;AAAqD,MAAA,GAAG,EAAEM,OAAO,CAACqB,UAAlE;AAA8E,MAAA,OAAO,EAAE,MAAIpC,YAAY,CAACe,OAAO,CAACH,KAAT,CAAvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAK,MAAA,SAAS,EAAE,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,SAAS,EAAG,cAAhB;AAA+B,MAAA,OAAO,EAAE,MAAIZ,YAAY,CAACe,OAAO,CAACH,KAAT,CAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0EG,OAAO,CAACH,KAAlF,CADJ,eAEI;AAAK,MAAA,SAAS,EAAG,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,SAAS,EAAE,cAAnB;AAAkC,MAAA,OAAO,EAAE,MAAIX,UAAU,CAACc,OAAO,CAACsB,SAAT,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CAFJ,eAKI;AAAK,MAAA,SAAS,EAAG,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,SAAS,EAAG,eAApB;AAAoC,MAAA,OAAO,EAAE,MAAI/B,QAAQ,CAACS,OAAD,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqEc,aAAa,CAACd,OAAO,CAACN,EAAT,CAAlF,CADJ,CALJ,CAFJ,CADJ,CAFJ;AAqBD;;AAED,sBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACLsB,WAAW,CAAC7B,IAAD,EAAOiC,aAAP,CADN,CAAR;AAIL","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {fetchFollowers, addFollower, unFollow} from \"./Api.js\"\nexport default function Page({selectMember, selectRepo}){\n    const [page, setPage] = useState([]);\n    const [followers, setFollowers] = useState([]);\n\n\n    function onFollow(elements){\n        const newId = elements.id;\n        const newElement = {\n            id : newId,\n            name : elements.login,\n        };\n        const found = followers.find(element=>{\n            return element.id === Number(newId);\n        })\n        if (found){\n            const newFollowers = followers.filter(element=>{\n                return element.id !== Number(newId);\n            })\n            unFollow(newId);\n            setFollowers(newFollowers);\n        }else{\n            const newFollowers = followers.concat(newElement);\n            addFollower(newElement);\n            setFollowers(newFollowers);\n        }\n    }\n    function fetchAPI(){\n        return fetch(`https://api.github.com/orgs/emberjs/members`, {\n          headers: {\n            Authorization: 'token 31830d17e83cee43166324aaa35c93d6444e083a',\n            Accept: \"application/json\",\n          },\n        });\n      }\n    \n      useEffect(()=>{\n        getFollowers().then(()=>{\n            renderPage();\n            }\n        )\n        \n      }, [])\n\n      function getFollowers(){\n          return fetchFollowers().then(response=>{\n              setFollowers(response);\n          })\n      }\n\n      function displayFollow(id){\n          const found = followers.find(element=>{\n              return element.id === Number(id);\n          })\n          if (found){\n              return (<>\n                  Unfollow\n              </>)\n          }\n          return <>Follow</>\n      }\n\n      function renderPage(){\n        fetchAPI().then(response=>{\n          return response.json();\n        }).then(response=>{\n          setPage(response);\n        //   console.log(response)\n        })\n      }\n\n      function mapElements(data, handleEach){\n        // console.log(data)\n        return data.map(element=>{\n          return handleEach(element);\n        })\n      }\n    \n      function formatElement(element){\n        return (\n \n            <li key={element.id} className=\"list-group-item\">\n                <div className=\"row ml-4 mb-4\">\n                    <img className = \" col-2 p-3 rounded-circle pointer\" src={element.avatar_url} onClick={()=>selectMember(element.login)}></img>\n                    <div className =\"\">\n                        <h4 className = \" p-3 pointer\" onClick={()=>selectMember(element.login)}>{element.login}</h4>\n                        <div className = \" p-3\">\n                            <button className =\"btn btn-info\" onClick={()=>selectRepo(element.repos_url)}>Repository</button>\n                        </div>        \n                        <div className = \" p-3\">\n                            <button className = \"btn btn-light\" onClick={()=>onFollow(element)}>{displayFollow(element.id)}</button>\n                        </div>      \n                    </div>\n                \n                </div>\n            </li>\n            \n                  \n\n        )\n      }\n\n      return (<div>\n        {mapElements(page, formatElement)}\n      </div>)\n\n}"]},"metadata":{},"sourceType":"module"}